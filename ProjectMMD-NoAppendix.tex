\documentclass[ProjectMMD]{subfiles}
% WARNING: AuCTeX local variables only get reset when file is loaded
% and differ between this file and ProjectMMD.tex
% so must re-load whichever file you want to compile with C-x C-v

% WARNING: Different AucTeX execution depending on whether
% 0. Being compiled as standalone document
%    * Compile main once
%    * Then compile this one
%    * Keep compiling until nothing changes
% 0. Being compiled as subfile of main document
%    * Just compile main document repeatedly

\input{./econtexRoot}
\input{\LaTeXInputs/econtex_onlyinsubfile}
\onlyinsubfile{\externaldocument{ProjectMMD}} % Get xrefs -- esp to appendix -- from main file; only works properly if main file has already been compiled;

\begin{document}

% Attempted to make all lines used for Web version contain {Web} (or version with only single curly brace at end) so can be removed with sed
\providecommand{\versn}{pdf} % Version; like, web or pdf or journal submission
\ifthenelse{\boolean{Web}}{    % {Web}
  \renewcommand{\versn}{Web}     % Too hard to figure out passing -output-directory through make4ht through htlatex, so web version is compiled with junk files in main directory
  \renewcommand{\rootFromOut}{.} % {Web}
}{}  % {Web}

% Tiny info header at top to track git commit
%\hfill{\tiny \jobname~\versn~\today~{at} \DTMcurrenttime, \input{\ResourcesDir/.git-source-commit}~~\input{\ResourcesDir/.git-public-commit}}

\title{A Simple Labor-Lesiure Model with Habits: Some Simulations from Previous Results }

\author{Mark M. Drozd \authNum}

\keywords{Labor Supply, time allocation, habit formation}

\renewcommand{\forcedate}{October 11, 2021}\date{\forcedate}

\maketitle
\hypertarget{abstract}{}
\begin{abstract}
  This paper presents a slight addition mixture of two traditional economic models: the labor-leisure model and a model of habit formation in consumption. We treat labor as a good with which agents form habits over, in addition to already forming habits in consumption behavior. The hope is that this model can be used to explain labor elasticity patterns and life cycle labor supply and consumption differences. This paper is largely inspired by the work of \cite{bover1991relaxing}.
\end{abstract}


% Various resources
\hypertarget{links}{}

\begin{footnotesize}
  \parbox{0.9\textwidth}{
    \begin{center}
      \begin{tabbing}
          \texttt{Dashboard:~} \= \= \texttt{\url{https://econ-ark.org/materials/BufferStockTheory?dashboard}} \\
          \texttt{~~~REMARK:~} \> \> \texttt{\url{https://econ-ark.org/materials/BufferStockTheory}} \\ % Owner is defined in Resources/owner.tex
          \texttt{~~~~~html:~} \> \> \texttt{\href{https://\owner.github.io/BufferStockTheory/}{https://\owner.github.io/BufferStockTheory/}} \\ % Owner is defined in Resources/owner.tex
          \texttt{~~~~~~PDF:~} \> \> \texttt{\href{https://\owner.github.io/BufferStockTheory/BufferStockTheory.pdf}{https://\owner.github.io/BufferStockTheory/BufferStockTheory.pdf}} \\ % Owner is defined in Resources/owner.tex
          \texttt{~~~Slides:~} \> \> \texttt{\href{https://\owner.github.io/BufferStockTheory/BufferStockTheory-Slides.pdf}{https://\owner.github.io/BufferStockTheory/BufferStockTheory-Slides.pdf}} \\
          \texttt{~Appendix:~} \> \> \texttt{\href{https://\owner.github.io/BufferStockTheory\#Appendices}{https://\owner.github.io/BufferStockTheory\#Appendices}}    \\
          \texttt{~~~GitHub:~} \> \> \texttt{\href{https://github.com/\owner/BufferStockTheory}{https://github.com/\owner/BufferStockTheory}} \\
      \end{tabbing}
    \end{center}
    The \href{https://econ-ark.org/materials/BufferStockTheory?dashboard}{dashboard} lets users see consequences of alternative parameters in an interactive framework.} % end parbox{\textwidth}
\end{footnotesize}

\begin{authorsinfo}
  \name{Contact: \href{mailto:mdrozd1@jhu.edu}{\texttt{mdrozd1@jhu.edu}}, Department of Economics,Graduate Student Mail Box on 5th floor of  Wyman Park Building, Johns Hopkins University, Baltimore, MD 21218}
\end{authorsinfo}

\newcommand{\thankstext}{
This paper is based off the template for the Theoretical Foundations of Buffer Stock Theory by Chris D. Carroll. The repository for can be found here [put link here]. The paper's results \href{https://\owner.github.io/nbreproduce}{can be automatically reproduced} using the \href{https://econ-ark/HARK}{Econ-ARK/HARK} toolkit, which can be cited per our references (\cite{carroll_et_al-proc-scipy-2018}); for reference to the toolkit itself see \href{https://econ-ark.org/acknowledging/}. All errors are my own.}

\ifthenelse{\boolean{Web}}{}{
  \begin{minipage}{0.9\textwidth}
    \tiny \thankstext
\end{minipage}
} % {Web}
{\titlepagefinish}

\hypertarget{Introduction}{}
\section{Introduction}\label{sec:intro}

The theory of labor supply tackles one of the most fundamental problems in economics: why people choose to work? Yet, as we try to abstract from the often times complex reasons why agents interact with the labor market, simple features can provide great insights to these problems. As central as such a problem can be, disagreements naturally arise throughout the field; discrepancies between microeconomics and macroeconomics. In an attempt to build some more intuition on such a basic problem, I look to model labor supply in the traditional way, but include habit formation.

The habit formation story is rather intuitive when it comes to consumption. There is a sort of smoothing process in our consumption patterns (a comfort or a certainty in a stochastic world) such that deviations from such norms actually provide disutility. Now, this is a rather extreme case of accustomization to a certain consumption behavior, and as so can be relaxed so as to just suggest the matter of changes in consumption affect utility in a parametric sense. However, this extreme view may hold true. For example, imagine we are analyzing a consumption problem regarding groceries. Deviations from the typical amount that a household purchases for groceries can be disconcerting. For one, there might not be space in the refrigerator to store the food. For another, purchasing more food than a household might use, will make it more likely to spoil and seem like a waste of money. 

In the labor supply literature occurs between consumption and leisure, so the same argument justifying habit formation in consumption naturally suggests habit formation in leisure. Agents get used to a certain amount of leisure, and deviations from this amount (particularly decreases) has a large effect. This effect has two channels, one from reducing the current leisure consumption, and the other by this habit. In other words, you are worse off because you don't have the same amount of leisure as before. From the perspective of less leisure in the future, the increasing time demand in labor may make the time spent in leisure less valuable (i.e. when you have leisure, you are too tired from working to take advantage of it compared to your previous leisure amount). On the other hand, too much leisure (relative to a previous period) can also be counterproductive. In this sense, this increase in leisure might lead to idleness and while it may be good to relax a little bit more, the tradeoff to consumption might actually dampen the effect of this extra leisure time. In any case, it is a plausible hypothesis that there may be some degree of habit formation as consumption.

While models of habit formation in consumption tend to dominate (put some cites here), there have been models that introduce habits in labor supply, notably \cite{bover1991relaxing}. Using the PSID, \cite{bover1991relaxing} estimates structural parameters of a life cycle labor model imposing a Stone-Geary utility function and non-separability between the current labor supply and previous labor supply. This strategy yields reasonable labor supply elasticity estimates, but these calculations depend on the structural estimates that are implausible. In an effort to see the plausibility of the elasticity estimates, we will simulate agents according to \cite{bover1991relaxing}, but restrict some parameters (notably the risk free rate and the psychological discount factor) to the literature standard values.

Some other things about the problem.. perhaps some citations.. you know: make it look pretty.
\section{The Problem}

\subsection{Setup}\label{subsec:Setup}
% adjust this setup to reflect more of what you actually did
An economic agent must decide how much to consume and work each period. The more this agent chooses to work, the more consumption that this agent gets to do, but this comes at the cost of less leisure time (the other ``good'' that the agent values). Furthermore, the agent has a habit stock in leisure. For the initial setup, let us just assume a finite horizon. The agent looks to maximize the following utility function.
\hypertarget{utility}{}
\begin{verbatimwrite}{\EqDir/utility}
  \begin{align}
    \sum_{t=0}^{D-t}\beta^t u(c_t, l_t, h_t^l)
  \end{align}
\end{verbatimwrite}
\input{\LtxDir\EqDir/utility}

$D$ denotes the end of the lifetime.Consumption and leisure are denoted by $c_t$ and $l_t$ with $h_t^l$ being the habit stock of leisure.Each future period is psychologically discounted by the term $\beta$ (which is less than 1 because otherwise it would not be discounting the future). We assume that the stock of the habits is equal to the previous period's consumption/leisure.

\hypertarget{habit_stocks}{}
\begin{verbatimwrite}{\EqDir/habit_stocks}
	\begin{align}
		h_{t+1}^l & = l_t \label{eq:habit}	
	\end{align}
\end{verbatimwrite}
\input{\LtxDir\EqDir/habit_stocks}

The agent will maximize her utility subject to the following budget constraint.
\hypertarget{budget_constraint}{}
\begin{verbatimwrite}{\EqDir/budget_constraint}
  \begin{align}
    m_{t+1} & = (m_t -c_t)(1+r) + y_{t+1} \label{eq:savings} \\
    y_t &= W(T-l_t) \label{eq:earnings}
  \end{align}
\end{verbatimwrite}
\input{\LtxDir\EqDir/budget_constraint}

Equation \eqref{eq:savings} depicts savings equation. Money/assets are denoted by $m$. The income at time $t$ is denoted by $y_t$. Any assets not spent in period $t$ grows by the risk-free rate (denoted by $r$) to be used for the next period. Equation \eqref{eq:earnings} just describes the earnings in each period. The wage (as of now) is constant and denoted by $W$ and $T$ describes the total amount of time in a period. Hence $T-l_t$ is the amount of time spent in work. We can combine Equations \eqref{eq:savings} and \eqref{eq:earnings} to have one consolidated budget constraint.
\hypertarget{dbc_single}{}
\begin{verbatimwrite}{\EqDir/dbc_single}
  \begin{align}
    m_{t+1} = ((m_{t-1}-c_{t-1})(1+r) +W(T-l_t) - c_t ) (1+r) + W(T-l_{t+1}) \label{eq:dbc}
  \end{align}
\end{verbatimwrite}
\input{\LtxDir\EqDir/dbc_single}

Strictly speaking, we have some additional constraints that apply to this problem. Leisure is censored by zero and $T$ (it is impossible to have negative leisure or to have more leisure than there is time). Naturally, we have assumed no financing of consumption, which is implicit in the way that Equation \eqref{eq:savings} is defined. 

To solve this model, using a value function is the way to go. Using \cite{carroll:solvinghabits} as a guide, we can easily solve the model by putting it into Bellman form.

\hypertarget{bellman}{}
\begin{verbatimwrite}{\EqDir/bellman}
  \begin{align}
    v_t(m_t, h_t^l) &= \max _{c_t, l_t}u(c_t, l_t, h_t^l) + \beta v_{t+1}(m_{t+1}, h_{t+1}^l) \label{eq:bellman}
  \end{align}
\end{verbatimwrite}
\input{\LtxDir\EqDir/bellman}
Combining Equation \eqref{eq:bellman} with Equations \eqref{eq:habit} and \eqref{eq:dbc}, allow us to calculate our first order conditions.


\hypertarget{focs}{}
\begin{verbatimwrite}{\EqDir/focs}
  \begin{align}
    u^c_t &=\beta(1+r)v_{t+1}^m \label{eq:focc} \\
    u^l_t &= \beta(1+r)W v_{t+1}^m - \beta v_{t+1}^h \label{eq:focl}
  \end{align}
\end{verbatimwrite}
\input{\LtxDir\EqDir/focs}

The superscripts in Equations \eqref{eq:focc} and \eqref{eq:focl} denote the partial derivative with respect to that argument (for example, $u^c_t = \partial u(c_t,l_t) / \partial c_t$). The Envelope Theorem yields the following

\hypertarget{envelope}{}
\begin{verbatimwrite}{\EqDir/envelope}
  \begin{align}
    v_t^m &= \beta(1+r)v_{t+1}^m \label{eq:env_m} \\
    v_t^h &= u^h \label{eq:env_h}
  \end{align}
\end{verbatimwrite}
\input{\LtxDir\EqDir/envelope}
Therefore combining our results from our FOCs (Equations \eqref{eq:focc} and \eqref{eq:focl}) with the Envelope Theorem results (Equations \eqref{eq:env_m} and \eqref{eq:env_h}), we should get the following Euler conditions:

\hypertarget{eulers}{}
\begin{verbatimwrite}{\EqDir/eulers}
  \begin{align}
    u^c_t &= \beta(1+r)u^c_{t+1} \label{eq:euler_cons} \\
    u_t^l &= W u^c_t - \beta u^h_{t+1} \label{eq:euler_leisure}
  \end{align}
\end{verbatimwrite}
\input{\LtxDir\EqDir/eulers}

% write about imposing Stone-Geary functional form

\providecommand{\figName}{stylized_model} % Allows generic definition of hypertargets based on title of figure
\providecommand{\figFile}{\figName} %  and on filename
\hypertarget{\figFile}{}
%\hypertarget{\figName}{}
\input{\FigDir/\figName} % Read in the tex to generate the figure
Figure \ref{fig:stylized_model} serves as reference for the model. In essence an agent enters the period and must make a leisure-consumption decision. The leisure decision is influenced by the habit factor, $\varphi$. Upon reaching the subsequent period, the decision must be made again, but also takes into account the savings and the habit that came from the previous periods decisions.


\hypertarget{Simulations}{}
\section{Simulations}
There are several abstractions made in order to simplify the simulation. In principle, we can allow for the wage to change over the life cycle (and perhaps in later renditions, we will allow for this), but for now, we focus on a constant wage. In principle, the Stone-Geary utility function can vary by demographic characteristics, we just impose that every agent has the same paramaters in their utility function (we can also adjust this with later simulations).   

In order to ensure consistency, I follow the model solution as described by \cite{bover1991relaxing}. In Column 2 of Table 1 of \cite{bover1991relaxing}, estimates of the structural parameters are presented \footnote{See the ``Original'' row of the Table \ref{tab:calibs} for the point estimates from \cite{bover1991relaxing}. It worth noting that many of the point estimates end up statistically insignificant, but yet it is through these point estimates that the author constructs the elasticity estiamtes. }
\input{\TableDir/calibration_table}
Using these calibrations we are able to simulate the labor hours (and thereby the leisure hours) over the life cycle:
\renewcommand{\figName}{hours_lc}
\renewcommand{\figFile}{\figName}
\hypertarget{\figFile}{}
\input{\FigDir/\figName}


Similarly,we can look at the consumption over the life cycle:

\renewcommand{\figName}{consumption_lc}
\renewcommand{\figFile}{\figName}
\hypertarget{\figFile}{}
\input{\FigDir/\figName}


Then with this information, we simulate the model and get the following estimates of elasticities:
\input{\TableDir/elast_table}



\hypertarget{Conclusions}{}
\section{Conclusions}

Here are some food for thought as you finish reading.

% %The paper's results are all easily reproducible \href{https://econ-ark.org/_materials/BufferStockTheory?launch}{interactively on the web} or \href{https://github.com/econ-ark/BufferStockTheory}{on any standard computer system}.  Such reproducibility reflects the paper's use of the open-source \href{https://econ-ark.org}{Econ-ARK} toolkit, which is used to generate all of the quantitative results of the paper, and which integrally incorporates all of the analytical insights of the paper.

% % The Dummy equation below sems to be needed to get the equation numbering in the appendix
% % reliably to start at the next number after the last actual equation number used in the paper

% \clearpage\vfill\eject
% \begin{equation*}
%   \label{eq:Dummy}
% \end{equation*}

% \onlyinsubfile{\bibliography{
%     \texname, % subfile inherits texname from preamble of parent
%     \econtexBib % Default bib database is in Resources/LaTeXInputs
%   }}

\onlyinsubfile{\input{\LaTeXInputs/bibliography_blend}}
%\bibliography{economics}
\end{document}
\endinput

% If you are editing in Emacs-AucTeX, modify the lines below for your system (otherwise ignore)
% Local Variables:
% eval: (setq TeX-command-list  (assq-delete-all (car (assoc "BibTeX" TeX-command-list)) TeX-command-list))
% eval: (setq TeX-command-list  (assq-delete-all (car (assoc "BibTeX" TeX-command-list)) TeX-command-list))
% eval: (setq TeX-command-list  (assq-delete-all (car (assoc "BibTeX" TeX-command-list)) TeX-command-list))
% eval: (setq TeX-command-list  (assq-delete-all (car (assoc "Biber"  TeX-command-list)) TeX-command-list))
% eval: (add-to-list 'TeX-command-list '("BibTeX" "bibtex LaTeX/%s" TeX-run-BibTeX nil t                                                                              :help "Run BibTeX") t)
% eval: (add-to-list 'TeX-command-list '("BibTeX" "bibtex LaTeX/%s" TeX-run-BibTeX nil (plain-tex-mode latex-mode doctex-mode ams-tex-mode texinfo-mode context-mode) :help "Run BibTeX") t)
% TeX-PDF-mode: t
% TeX-file-line-error: t
% TeX-debug-warnings: t
% LaTeX-command-style: (("" "%(PDF)%(latex) %(file-line-error) %(extraopts) -output-directory=LaTeX %S%(PDFout)"))
% TeX-source-correlate-mode: t
% TeX-parse-self: t
% eval: (cond ((string-equal system-type "darwin")    (progn (setq TeX-view-program-list '(("Skim" "/Applications/Skim.app/Contents/SharedSupport/displayline -b %n LaTeX/%o %b"))))))
% eval: (cond ((string-equal system-type "gnu/linux") (progn (setq TeX-view-program-list '(("Evince" "evince --page-index=%(outpage) LaTeX/%o"))))))
% eval: (cond ((string-equal system-type "gnu/linux") (progn (setq TeX-view-program-selection '((output-pdf "Evince"))))))
% TeX-parse-all-errors: t
% End:
